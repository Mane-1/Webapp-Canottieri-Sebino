{% extends "layout/base.html" %}

{% block title %}Statistiche Turni{% endblock %}

{% block content %}
<div class="container py-4">
    <h1 class="h2 mb-4">Statistiche Turni</h1>
    <form method="get" class="row g-2 mb-3">
        <div class="col-auto">
            <select name="year" class="form-select">
                {% for y in years %}
                    <option value="{{ y }}" {% if y == selected_year %}selected{% endif %}>{{ y }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-auto">
            <select name="month" class="form-select">
                {% for m in months %}
                    <option value="{{ m }}" {% if m == selected_month %}selected{% endif %}>{{ month_names[m] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-auto">
            <button class="btn btn-primary" type="submit">Filtra</button>
        </div>
    </form>
    <div class="mb-3">
        <span class="badge bg-success">Coperti {{ month_covered }}</span>
        <span class="badge bg-danger">Scoperti {{ month_uncovered }}</span>
    </div>
    <h3 class="h5 mt-4">Turni assegnati nella stagione</h3>
    <table class="table table-striped mt-2">
        <thead><tr><th>Allenatore</th><th>Turni</th></tr></thead>
        <tbody>
        {% for name, count in season_counts %}
            <tr><td>{{ name }}</td><td>{{ count }}</td></tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
