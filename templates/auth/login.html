{% extends "layout/base.html" %}

{% block title %}Login{% endblock %}
{% block main_class %}main--center{% endblock %}

{% block content %}
<section class="card" aria-labelledby="title">
  <h1 id="title">Accedi</h1>
  <p class="subtitle">Entra nella web app della Canottieri Sebino Lovere.</p>
  <div class="error" id="errorBox" role="alert"{% if error_message %} style="display:block"{% endif %}>{{ error_message }}</div>
  <form method="post" action="/login" novalidate>
    <label class="field" for="username">
      <input id="username" name="username" type="text" placeholder="Nome utente" autocomplete="username" required>
    </label>
    <label class="field" for="password">
      <input id="password" name="password" type="password" placeholder="Password" autocomplete="current-password" required minlength="6">
      <button class="password-toggle" type="button" id="togglePwd" aria-label="Mostra password">üëÅÔ∏è</button>
    </label>
    <div class="row" style="display:flex; justify-content:space-between; align-items:center; margin:8px 2px 16px">
      <label class="remember" style="display:flex; align-items:center; gap:8px; color:var(--muted); font-size:14px;">
        <input type="checkbox" name="remember" id="remember" style="width:18px; height:18px"> Ricordami
      </label>
      <a class="link" href="#" aria-label="Password dimenticata">Password dimenticata?</a>
    </div>
    <button class="btn btn--primary" type="submit" style="width:100%">LOGIN</button>
    <div class="links" style="display:flex; justify-content:space-between; align-items:center; margin-top:14px; font-size:14px;" aria-live="polite">
      <span>Non hai un account?</span>
      <a class="link" href="#" aria-label="Richiedi accesso">Richiedi accesso</a>
    </div>
  </form>
</section>
{% endblock %}

{% block scripts %}
<script>
const togglePwd=document.getElementById('togglePwd');
const pwd=document.getElementById('password');
togglePwd.addEventListener('click',()=>{const isPwd=pwd.type==='password';pwd.type=isPwd?'text':'password';togglePwd.setAttribute('aria-label',isPwd?'Nascondi password':'Mostra password');});
</script>
{% endblock %}
